# Sprint Planning Bootstrap - Make the CHANGE

## 🎯 Planning Phase 1 Bootstrap (6 mois)

**Objectif :** Développer et lancer un MVP viable avec 0€ capital initial, atteindre 60-100 abonnés payants, et valider le product-market fit.

**Budget total :** 5,000€ sur 6 mois (autofinancé par premiers revenus)

**Équipe :** 2 fondateurs (Greg + Développeur) temps partiel → temps plein progressif

---

## 💰 BUDGET RÉALISTE PHASE 1

### **Répartition Budget 6 mois (5,000€)**

#### **Infrastructure & Technique (800€)**
```yaml
Hébergement & Tools:
- Domain + email: 50€/an
- Supabase gratuit: 0€ (500MB limite)
- Vercel gratuit: 0€ (100GB bandwidth)
- Expo development: 0€ (Expo Go)
- Apple Developer: 99€/an
- Google Play: 25€ one-time
- Stripe fees: ~200€ (3% des transactions)
- Outils développement: 200€ (licenses, assets)
- Backup & monitoring: 100€

Total Infrastructure: 800€ (133€/mois)
```

#### **Partenaires & Échantillons (2,000€)**
```yaml
Développement Partenaires:
- Échantillons beta testers: 500€
- Frais setup partenaires: 300€
- Photos produits professionnelles: 400€
- Packaging/branding basique: 300€
- Commission buffer partenaires: 500€

Total Partenaires: 2,000€ (333€/mois)
```

#### **Marketing & Acquisition (1,500€)**
```yaml
Acquisition Bootstrap:
- Social media ads: 600€ (100€/mois)
- Micro-influenceurs (3x): 450€ (150€ chacun)
- Content création: 200€ (photos, vidéos)
- Événements networking: 250€

Total Marketing: 1,500€ (250€/mois)
```

#### **Légal & Administration (400€)**
```yaml
Setup Business:
- CGU/CGV rédaction: 150€
- Comptabilité setup: 100€
- Assurance professionnelle: 100€ (6 mois)
- Frais bancaires: 50€

Total Légal: 400€
```

#### **Buffer & Urgences (300€)**
```yaml
Réserve:
- Urgences techniques: 150€
- Opportunités marketing: 100€
- Imprévus divers: 50€

Total Buffer: 300€
```

---

## 📅 ROADMAP 6 MOIS DÉTAILLÉE

### **MOIS 1 : Foundation & MVP (Sprint 1-4)**

#### **Sprint 1-2 (Semaines 1-2) : Infrastructure**
```yaml
Greg (20h/semaine):
✅ Négociation HABEEBEE (commission 20%, 8 produits)
✅ Identification 2 producteurs backup locaux
✅ Photos produits première qualité (smartphone)
✅ Création contenu social media initial

Développeur (25h/semaine):
✅ Setup Supabase projet + database schema
✅ Setup Expo React Native projet
✅ Authentication basique (email/password)
✅ Interface admin simple (CRUD produits)

Livrables Semaine 2:
- Database setup ✅
- App skeleton ✅
- 1 partenaire confirmé (HABEEBEE) ✅
- 8-10 produits catalogués ✅

Budget Mois 1: 500€
```

#### **Sprint 3-4 (Semaines 3-4) : MVP Core**
```yaml
Greg (25h/semaine):
✅ Finalisation contrat HABEEBEE
✅ Processus fulfillment documenté
✅ Liste 50 beta testeurs constituée
✅ Content marketing blog/social

Développeur (30h/semaine):
✅ Catalogue produits (affichage, filtres)
✅ Système points basique (génération, balance)
✅ Panier shopping + checkout (sans paiement)
✅ Notifications email basiques

Livrables Fin Mois 1:
- App MVP fonctionnelle (sans paiements) ✅
- Process partenaires opérationnel ✅
- Content marketing lancé ✅
- Beta testeurs identifiés ✅

Métriques Fin Mois 1:
- 0 abonnés payants (normal)
- 5-10 testeurs app (famille/amis)
- 1 partenaire actif confirmé
```

### **MOIS 2 : Launch Beta (Sprint 5-8)**

#### **Sprint 5-6 (Semaines 5-6) : Paiements & Integration**
```yaml
Greg (30h/semaine):
✅ 2ème partenaire négocié et signé
✅ Workflow dropshipping testé
✅ Communication beta launch préparée
✅ Partenariat micro-influenceur (1er)

Développeur (35h/semaine):
✅ Intégration Stripe (paiements investissements et abonnements Ambassadeur)
✅ Système commandes complètes
✅ Notifications push setup
✅ Analytics basiques (Supabase)

Budget Semaines 5-6: 400€ (Stripe setup, influenceur)
```

#### **Sprint 7-8 (Semaines 7-8) : Beta Launch**
```yaml
Greg (35h/semaine):
✅ Launch beta 50 invitations personnalisées
✅ Follow-up individuel chaque beta testeur
✅ Collection feedback systématique
✅ Social media annonce publique

Développeur (35h/semaine):
✅ Bug fixes feedback beta users
✅ Performance optimisations mobile
✅ Interface utilisateur améliorations UX
✅ Préparation App Store submission

Livrables Fin Mois 2:
- App complète avec paiements ✅
- 10-20 beta testeurs actifs ✅
- Première commande payante ✅
- Feedback utilisateurs analysé ✅

Métriques Fin Mois 2:
- 5-15 abonnés payants
- 200-1,200€ revenue total
- App rating >4.0/5 (beta)
- 2 partenaires actifs

Budget Mois 2: 800€
```

### **MOIS 3 : Product-Market Fit + App Partenaires (Sprint 9-12)**

#### **Sprint 9-10 (Semaines 9-10) : Iteration & App Partenaires Phase 1**
```yaml
Greg (40h/semaine):
✅ 3ème partenaire finalisé
✅ NOUVEAU: Spécifications app partenaires avec HABEEBEE (workflow updates)
✅ Catalogue étendu à 15+ produits
✅ Système de viralité par partage d'impact lancé
✅ Micro-influenceur #2 partenariat

Développeur (40h/semaine):
✅ Améliorations UX basées sur feedback beta
✅ Système de viralité par partage d'impact implémenté
✅ A/B testing pricing (conversion)
✅ Optimisations performance app

Budget Semaines 9-10: 500€ (3ème partenaire, influenceur)
```

#### **Sprint 11-12 (Semaines 11-12) : Growth Preparation**
```yaml
Greg (40h/semaine → temps plein):
✅ Process onboarding utilisateur optimisé
✅ Content éducatif (blog, guides)
✅ Expansion catalogue 20+ produits
✅ Préparation public app store launch

Développeur (40h/semaine → temps plein):
✅ Analytics custom dashboard
✅ Optimisations conversion checkout
✅ Features rétention (notifications)
✅ App Store optimization (ASO)

Livrables Fin Mois 3:
- Product-market fit initial ✅
- 25-40 abonnés payants ✅
- 3+ partenaires confirmés ✅
- Break-even atteint ✅

Métriques Fin Mois 3:
- 25-40 abonnés payants
- 1,500-3,000€ MRR
- Break-even opérationnel ✅
- NPS >40, App rating >4.2

Budget Mois 3: 700€
```

### **MOIS 4-6 : Scale Bootstrap (Sprint 13-24)**

#### **Objectifs Mois 4-6**
```yaml
Mois 4 (Sprint 13-16):
✅ Public App Store launch
✅ 40-60 abonnés (+15/mois growth)
✅ 2,500-4,500€ MRR
✅ 4-5 partenaires consolidés

Mois 5 (Sprint 17-20):
✅ First hire part-time (customer support)
✅ 60-80 abonnés (+20/mois growth)
✅ 4,000-6,500€ MRR
✅ Expansion géographique test (Belgique)

Mois 6 (Sprint 21-24):
✅ 80-100 abonnés (+20/mois growth)
✅ 6,000-8,000€ MRR
✅ 6-8 partenaires actifs
✅ Préparation Phase 2 (capital disponible)
```

#### **Features Roadmap Mois 4-6**
```yaml
Mois 4:
- Public app launch (App Store + Google Play)
- Référence program automatique
- Customer support workflow
- Basic analytics dashboard

Mois 5:
- Géolocalisation produits (cartes simples)
- Notifications push segmentées
- Wishlist & favoris
- Multi-language preparation (FR/EN)

Mois 6:
- Expérience onboarding optimisée
- Social features basiques (partage)
- Advanced search & filters
- Phase 2 architecture preparation
```

---

## 📊 MÉTRIQUES & SUIVI MENSUEL

### **Dashboard Executive (mise à jour hebdomadaire)**

#### **North Star Metrics**
```yaml
Revenue:
- MRR (Monthly Recurring Revenue)
- Growth rate (month-over-month)
- Customer acquisition (new/week)

Product:
- Active users (MAU)
- App rating & reviews
- Points redemption rate

Operations:
- Partner performance
- Order fulfillment time
- Customer satisfaction (NPS)
```

#### **Gates de Validation**

**Gate Mois 1:**
```yaml
✅ MVP app fonctionnelle
✅ 1 partenaire opérationnel
✅ Process fulfillment validé
✅ 5+ beta testeurs engagés
```

**Gate Mois 2:**
```yaml
✅ Première commande payante
✅ 10+ beta testeurs actifs
✅ App rating >4.0
✅ 2 partenaires confirmés
```

**Gate Mois 3 (CRITIQUE):**
```yaml
✅ 25+ abonnés payants
✅ Break-even atteint
✅ Product-market fit évident
✅ Growth trajectory positive

Si NON → Pivot/iteration Phase 1
Si OUI → Préparation Phase 2
```

**Gate Mois 6 (Transition Phase 2):**
```yaml
✅ 80+ abonnés payants
✅ 6,000€+ MRR sustained
✅ 8+ partenaires validés
✅ Team capacity pour scale

Si OUI → Phase 2 launched
```

---

## 📱 **NOUVEAU: APP PARTENAIRES - Planning Développement**

### **Phase 1 App Partenaires (4 semaines - Mois 3-4)**

#### **Semaine 1: Fondations**
```yaml
Objectifs:
- Setup Expo app + navigation partenaires
- Authentification partenaires (email/password)
- Écrans de base (login, liste projets)
- API endpoints auth + projets

Développeur (10h dédiées):
✅ Setup Expo React Native app partenaires
✅ Architecture navigation (Expo Router v4)
✅ Authentification système partenaires
✅ Première intégration API projets
```

#### **Semaine 2: Fonctionnalités Core**
```yaml
Objectifs:
- Caméra + prise photos/vidéos
- Création updates avec médias
- Upload vers stockage (URLs pré-signées)
- États offline/online

Développeur (15h dédiées):
✅ Intégration caméra native
✅ Workflow complet création update
✅ Upload robuste avec retry
✅ Interface utilisateur terrain-ready
```

#### **Semaine 3: Robustesse & Polish**
```yaml
Objectifs:
- Système pause/reprise uploads
- Gestion erreurs et edge cases
- Performance et optimisations
- Tests sur devices réels terrain

Développeur (12h dédiées):
✅ App stable en conditions terrain
✅ Upload background fonctionnel
✅ UX finalisée et testée
✅ Compression média optimisée
```

#### **Semaine 4: Intégration & Déploiement**
```yaml
Objectifs:
- Dashboard admin modération (web)
- Workflow complet modération → publication
- Tests end-to-end complets
- Déploiement TestFlight/Play Console

Greg + Développeur (15h combinées):
✅ Dashboard admin modération opérationnel
✅ App déployée et testable
✅ Documentation utilisateur créée
✅ Formation partenaires HABEEBEE pilote
```

### **Budget App Partenaires (inclus dans Phase 1)**
```yaml
Développement: 0€ supplémentaire (temps interne)
Infrastructure: 0€ (Expo + Supabase existant)
Formation partenaires: 200€ (déplacement + temps)
Testing devices: 100€ (devices Android test)

Total: 300€ sur budget existant
```

---

## 🎯 RESSOURCES & OUTILS PHASE 1

### **Stack Technique Minimaliste**

#### **Development Tools (gratuits/low-cost)**
```yaml
Code & Design:
- VS Code (gratuit)
- Figma (gratuit plan)
- Git + GitHub (gratuit)
- Expo CLI + Expo Go (gratuit)

Backend & Database:
- Supabase Free Tier (500MB)
- Vercel Free Tier (100GB)
- Stripe (3% transaction fees)

Analytics & Monitoring:
- Supabase Analytics (inclus)
- Google Analytics (gratuit)
- Apple App Store Connect (inclus)

Communication & Marketing:
- Gmail Business (gratuit)
- Canva (gratuit plan)
- Buffer social media (gratuit)
```

#### **Business Tools (low-cost)**
```yaml
Management:
- Notion (gratuit plan) - Project management
- Google Sheets - Financial tracking
- WhatsApp - Partner communication
- Calendly (gratuit) - Meeting scheduling

Finance & Legal:
- Stripe Dashboard - Revenue tracking
- Qonto (15€/mois) - Business banking
- LegalPlace (one-time) - Legal setup
- Online accounting tools (50€/mois)
```

---

## 🔄 WORKFLOW OPÉRATIONNEL

### **Routine Hebdomadaire**

#### **Lundi : Planning & Metrics**
```yaml
Morning (1h):
- Review weekend metrics
- Week objectives setting
- Priority tasks identification

Greg Focus:
- Partner communication check
- Customer support review
- Marketing content planning

Développeur Focus:
- Technical debt review
- Feature development priorities
- Performance monitoring
```

#### **Mardi-Jeudi : Development & Execution**
```yaml
Greg (6-8h/jour):
- Partner relationship management
- Customer acquisition activities
- Content création & social media
- Customer support & feedback

Développeur (6-8h/jour):
- Feature development (2x 3h blocs)
- Bug fixes & optimizations
- Code review & testing
- Infrastructure monitoring
```

#### **Vendredi : Review & Planning**
```yaml
End-of-Week Review (1h ensemble):
- Weekly metrics analysis
- Customer feedback review
- Partner performance check
- Next week planning

Monthly Review (1er vendredi du mois):
- Monthly KPIs analysis
- Budget review & adjustments
- Phase progression evaluation
- Strategic decisions if needed
```

### **Communication Cadence**

#### **Daily (async)**
- Slack/messages: Urgent issues only
- Shared document: Daily progress log
- Customer feedback: Immediate sharing

#### **Weekly (sync)**
- 1h meeting: Metrics, blockers, priorities
- Customer feedback session: Product improvements
- Partner review: Performance & issues

#### **Monthly (strategic)**
- 2h session: Strategic review & planning
- Financial review: Budget vs actual
- Phase assessment: Gates validation
- Vision alignment: Long-term objectives

---

## 🚀 SUCCESS FACTORS PHASE 1

### **Critical Success Factors**

#### **Product Excellence**
- User experience smooth dès la première utilisation
- Bug-free application (crash rate <0.1%)
- Fast loading times (<3s cold start)
- Clear value proposition évidente

#### **Partner Relations**
- Reliable fulfillment (<48h average)
- Quality products consistent
- Good communication workflow
- Win-win economics (20%+ commission)

#### **Customer Acquisition**
- Strong organic word-of-mouth (>60%)
- Social proof & testimonials
- Referral program effectiveness
- Community building authentic

#### **Operational Excellence**
- Disciplined budget management
- Metrics-driven decision making
- Rapid iteration based on feedback
- Team efficiency & focus

### **Risk Mitigation**

#### **Technical Risks**
- **Risk:** App crashes/performance issues
- **Mitigation:** Extensive testing, gradual rollout, monitoring

#### **Business Risks**
- **Risk:** Partner unavailability/quality
- **Mitigation:** 3+ partners minimum, backup suppliers

#### **Market Risks**
- **Risk:** Low customer adoption
- **Mitigation:** Strong beta feedback integration, pricing flexibility

#### **Financial Risks**
- **Risk:** Budget overrun before break-even
- **Mitigation:** Conservative spending, revenue-driven scaling

**Cette planification bootstrap assure une progression disciplinée vers le product-market fit avec des ressources minimales tout en maximisant les chances de succès.**

---

## 📋 DÉTAILS OPÉRATIONNELS PHASE 1 (COMPLÉMENTS)

### **Timeline Granulaire Semaine par Semaine**

#### **MOIS 1 : Foundation & Setup Détaillé**

**Semaine 1-2 : Infrastructure Technique**
```yaml
Actions Greg (20h/semaine):
  Jour 1-3: Négociation HABEEBEE (commission 20%, 8-10 produits)
  Jour 4-5: Identification 2-3 producteurs locaux backup  
  Jour 6-10: Setup communication partenaires (WhatsApp groups)
  Jour 11-14: Photos produits haute qualité (smartphone)

Actions Développeur (25h/semaine):
  Jour 1-2: Setup Supabase projet (gratuit) + database schema minimal
  Jour 3-5: Création Expo projet React Native + navigation
  Jour 6-8: Integration Supabase Auth (email/password)
  Jour 9-10: Domain .fr achat (12€) + configuration
  Jour 11-14: Interface admin basique (CRUD produits)

Coûts Semaine 1-2: 50€
KPIs: Database ✅, App skeleton ✅, 1 partenaire confirmé ✅
```

**Semaine 3-4 : MVP Development**  
```yaml
Actions Greg (25h/semaine):
  Jour 15-17: Rédaction descriptions produits (8-10 produits)
  Jour 18-20: Création contenu Instagram/social (première posts)
  Jour 21-24: Test commandes manuelles HABEEBEE
  Jour 25-28: Documentation processus fulfillment

Actions Développeur (30h/semaine):
  Jour 15-18: Écrans authentification (login/register/profil)
  Jour 19-22: Système points basique (CRUD points_transactions)
  Jour 23-26: Catalogue produits (affichage/filtrage)
  Jour 27-28: Panier et checkout (sans paiement encore)

Coûts Semaine 3-4: 100€ (outils dev, assets)

Livrables Fin Mois 1:
✅ App mobile fonctionnelle (sans paiements)
✅ 8-10 produits catalogue avec photos
✅ 1 partenaire confirmé opérationnel (HABEEBEE)  
✅ Process fulfillment documenté et testé

Métriques Fin Mois 1:
- App téléchargeable (TestFlight/APK): ✅
- 0 abonnés payants (attendu)
- 5-10 testeurs famille/amis: ✅
- 1 partenaire actif: ✅
```

#### **MOIS 2 : Payment & Launch Beta Détaillé**

**Semaine 5-6 : Payments Integration**
```yaml
Actions Greg (30h/semaine):
  Jour 29-31: Finalisation contrat HABEEBEE (commission, SLA)
  Jour 32-35: Prospection 2ème partenaire (miel local Luxembourg)
  Jour 36-38: Préparation contenu marketing launch (posts, visuels)
  Jour 39-42: Constitution liste 50 early testers (contacts personnels)

Actions Développeur (35h/semaine):
  Jour 29-32: Intégration Stripe (3 tiers abonnements)
  Jour 33-36: Système abonnements complet + génération points
  Jour 37-39: Notifications email basiques (welcome, order confirmations)
  Jour 40-42: Interface commandes utilisateur + admin dashboard

Coûts Semaine 5-6: 200€ (Stripe setup, marketing content création)
```

**Semaine 7-8 : Beta Launch**
```yaml
Actions Greg (35h/semaine):
  Jour 43-45: Launch beta (50 invitations personnalisées par email)
  Jour 46-48: Social media annonce (Instagram, LinkedIn)
  Jour 49-52: Follow-up personnel chaque testeur (appels/messages)
  Jour 53-56: Collection feedback utilisateurs (survey + calls)

Actions Développeur (35h/semaine):
  Jour 43-46: Bug fixes feedback beta users (daily deploys)
  Jour 47-49: Analytics basiques setup (Supabase + custom events)
  Jour 50-52: Push notifications setup (Expo notifications)
  Jour 53-56: Performance optimizations mobile (<3s load time)

Coûts Semaine 7-8: 300€ (échantillons gratuits beta testers)

Livrables Fin Mois 2:
✅ App complète avec paiements Stripe fonctionnels
✅ 10-20 beta testeurs actifs et engagés  
✅ Première commande payante confirmée
✅ Feedback utilisateurs collecté et analysé

Métriques Fin Mois 2:
- 5-15 abonnés payants: Target 10
- 200-1,200€ revenue total: Target 800€
- App rating >4.0/5 (beta feedback): Target 4.3
- 2 partenaires actifs: Target confirmé
```

#### **Budget Détaillé avec Cash Flow Mensuel**

**Cash Flow Projection 6 mois:**
```yaml
Mois 1:
  Revenus: 0€ (setup)
  Coûts: 500€ (infrastructure + partenaires)  
  Cash Flow: -500€
  Cash Total: 4,500€

Mois 2:  
  Revenus: 400€ (10 abonnés beta)
  Coûts: 600€ (marketing + développement)
  Cash Flow: -200€  
  Cash Total: 4,300€

Mois 3:
  Revenus: 1,500€ (30 abonnés total)
  Coûts: 700€ (scale partenaires)
  Cash Flow: +800€ ← Break-even !
  Cash Total: 5,100€

Mois 4:
  Revenus: 3,000€ (50 abonnés)
  Coûts: 600€ (consolidation)
  Cash Flow: +2,400€
  Cash Total: 7,500€

Mois 5:  
  Revenus: 5,000€ (75 abonnés)
  Coûts: 800€ (première embauche part-time)
  Cash Flow: +4,200€
  Cash Total: 11,700€

Mois 6:
  Revenus: 7,500€ (100 abonnés)
  Coûts: 1,000€ (préparation Phase 2)
  Cash Flow: +6,500€  
  Cash Total: 18,200€

Total 6 mois:
Investment Initial: 5,000€
Revenue Total: 17,400€  
Profit Net: 12,400€
ROI: 248% sur 6 mois
Capital Disponible Phase 2: 18,200€
```

#### **Stack Technique Détaillé avec Versions**

**Frontend Mobile (React Native Expo)**
```typescript
// Package.json principal
{
  "expo": "~49.0.0",
  "react": "18.2.0", 
  "react-native": "0.72.6",
  "expo-router": "^2.0.0",
  "expo-auth-session": "~5.0.2",
  "@supabase/supabase-js": "^2.38.0",
  "@stripe/stripe-react-native": "^0.28.0",
  "react-native-vector-icons": "^10.0.0",
  "expo-notifications": "~0.20.1",
  "expo-image-picker": "~14.3.2"
}

// Structure détaillée
src/
├── app/
│   ├── (auth)/
│   │   ├── login.tsx
│   │   ├── register.tsx  
│   │   └── forgot-password.tsx
│   ├── (tabs)/
│   │   ├── index.tsx          // Dashboard
│   │   ├── catalog.tsx        // Products  
│   │   ├── orders.tsx         // My Orders
│   │   └── profile.tsx        // Account
│   └── admin/
│       ├── dashboard.tsx      // Admin overview
│       ├── products.tsx       // CRUD products
│       └── orders.tsx         // Manage orders
├── components/
│   ├── ui/
│   │   ├── Button.tsx
│   │   ├── Input.tsx  
│   │   ├── Card.tsx
│   │   └── Loading.tsx
│   └── business/
│       ├── ProductCard.tsx
│       ├── PointsBalance.tsx
│       └── OrderSummary.tsx
├── lib/
│   ├── supabase.ts           // Client config
│   ├── stripe.ts             // Payment setup  
│   └── utils.ts              // Helpers
└── types/
    ├── database.ts           // Supabase types
    └── app.ts               // App-specific types
```

**Backend Schema Supabase Complet**
```sql
-- Extension UUID pour les IDs
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- Profiles (extends Supabase auth.users)
CREATE TABLE profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  email TEXT UNIQUE NOT NULL,
  first_name TEXT,
  last_name TEXT,
  points_balance INTEGER DEFAULT 0,
  user_level TEXT DEFAULT 'explorateur',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Row Level Security
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view own profile" ON profiles FOR SELECT USING (auth.uid() = id);
CREATE POLICY "Users can update own profile" ON profiles FOR UPDATE USING (auth.uid() = id);

-- Subscriptions
CREATE TABLE subscriptions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  subscription_type TEXT NOT NULL CHECK (subscription_type IN ('ambassadeur_standard', 'ambassadeur_premium')),
  amount_eur INTEGER NOT NULL,
  points_granted INTEGER NOT NULL,
  stripe_subscription_id TEXT UNIQUE,
  stripe_customer_id TEXT,
  status TEXT DEFAULT 'active' CHECK (status IN ('active', 'cancelled', 'expired')),
  current_period_start TIMESTAMP WITH TIME ZONE,
  current_period_end TIMESTAMP WITH TIME ZONE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

ALTER TABLE subscriptions ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view own subscriptions" ON subscriptions FOR SELECT USING (
  EXISTS (SELECT 1 FROM profiles WHERE profiles.id = subscriptions.user_id AND profiles.id = auth.uid())
);

-- Products
CREATE TABLE products (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT NOT NULL,
  description TEXT,
  price_points INTEGER NOT NULL,
  stock_quantity INTEGER DEFAULT 999, -- dropshipping = high default
  partner_name TEXT NOT NULL,
  partner_contact TEXT,
  category TEXT,
  image_urls TEXT[],
  active BOOLEAN DEFAULT true,
  featured BOOLEAN DEFAULT false,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Public access to products (for catalog)
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Products are viewable by everyone" ON products FOR SELECT TO anon, authenticated USING (active = true);
CREATE POLICY "Admin can manage products" ON products FOR ALL USING (
  EXISTS (SELECT 1 FROM profiles WHERE profiles.id = auth.uid() AND profiles.email LIKE '%admin%')
);

-- Orders
CREATE TABLE orders (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  total_points INTEGER NOT NULL,
  status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'processing', 'shipped', 'delivered', 'cancelled')),
  items JSONB NOT NULL, -- [{product_id, name, price_points, quantity}]
  shipping_address JSONB NOT NULL, -- {name, street, city, postal_code, country}
  partner_notifications_sent BOOLEAN DEFAULT false,
  tracking_info TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

ALTER TABLE orders ENABLE ROW LEVEL SECURITY;  
CREATE POLICY "Users can view own orders" ON orders FOR SELECT USING (
  EXISTS (SELECT 1 FROM profiles WHERE profiles.id = orders.user_id AND profiles.id = auth.uid())
);

-- Points Transactions  
CREATE TABLE points_transactions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  amount INTEGER NOT NULL, -- positive = earned, negative = spent
  type TEXT NOT NULL CHECK (type IN ('subscription', 'order', 'bonus', 'refund')),
  description TEXT,
  related_id UUID, -- subscription_id, order_id, etc.
  expires_at TIMESTAMP WITH TIME ZONE, -- pour l'expiration 18 mois
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

ALTER TABLE points_transactions ENABLE ROW LEVEL SECURITY;
CREATE POLICY "Users can view own transactions" ON points_transactions FOR SELECT USING (
  EXISTS (SELECT 1 FROM profiles WHERE profiles.id = points_transactions.user_id AND profiles.id = auth.uid())
);

-- Functions utiles
CREATE OR REPLACE FUNCTION update_points_balance()
RETURNS TRIGGER AS $$
BEGIN
  -- Recalculer le solde points après chaque transaction
  UPDATE profiles 
  SET points_balance = (
    SELECT COALESCE(SUM(amount), 0) 
    FROM points_transactions 
    WHERE user_id = NEW.user_id 
    AND (expires_at IS NULL OR expires_at > NOW())
  )
  WHERE id = NEW.user_id;
  
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- Trigger pour mettre à jour automatiquement le solde
CREATE TRIGGER update_points_balance_trigger
  AFTER INSERT ON points_transactions
  FOR EACH ROW
  EXECUTE FUNCTION update_points_balance();

-- Index pour performance
CREATE INDEX idx_products_active ON products(active, featured);
CREATE INDEX idx_orders_user_status ON orders(user_id, status);
CREATE INDEX idx_points_user_expires ON points_transactions(user_id, expires_at);
CREATE INDEX idx_subscriptions_user_active ON subscriptions(user_id, status);
```

#### **Workflow Partenaires Détaillé**

**Integration HABEEBEE (Semaine 1-2)**
```yaml
Étape 1: Négociation Contrat
- Commission: 20% (négociée)
- Produits: 8-10 miels + 2-3 cosmétiques
- SLA: Confirmation commande <2h, expédition <48h
- Paiement: Hebdomadaire après livraison confirmée

Étape 2: Setup Technique  
- Email commandes: orders-makethechange@habeebee.be
- Format commande JSON standardisé
- Webhook confirmation expédition
- Integration tracking transporteur

Étape 3: Test Workflow
- 3 commandes test avec Greg/développeur
- Validation délais & qualité
- Test notifications clients
- Ajustements process si nécessaire

Produits Catalogue Initial HABEEBEE:
1. Miel Acacia 250g - 18 points (€18)
2. Miel Tilleul 500g - 32 points (€32) 
3. Miel Châtaigner 250g - 22 points (€22)
4. Propolis spray 30ml - 15 points (€15)
5. Cire d'abeille pure 100g - 12 points (€12)
6. Pollen frais 250g - 28 points (€28)
7. Bougies cire naturelle x3 - 25 points (€25)
8. Crème miel-propolis 50ml - 19 points (€19)
```

#### **Métriques Granulaires par Semaine**

**Dashboard Hebdomadaire (Google Sheets template)**
```
SEMAINE X - Make the CHANGE Metrics

📊 BUSINESS:
- Nouveaux abonnés: X (+Y vs objectif Z)
- MRR: X€ (+Y% croissance)  
- Churn: X abonnés perdus (X% taux)
- Revenue total: X€ this week

📱 PRODUCT:
- App downloads: X (iOS: Y, Android: Z)
- MAU: X users actifs
- Session duration: X min moyenne
- Crash rate: X% (objectif <0.1%)

🛒 COMMERCE:
- Commandes: X orders  
- Panier moyen: X points (€Y équivalent)
- Points redemption rate: X%
- Top produits: [liste 3 best sellers]

🤝 PARTENAIRES:
- HABEEBEE: X commandes, Y jours délai moyen
- Partner #2: X commandes, Y jours délai moyen  
- Stock issues: X produits indisponibles
- Satisfaction partenaires: X/5 (survey mensuel)

🎯 OBJECTIFS SEMAINE PROCHAINE:
- Acquisition: +X abonnés
- Revenue: X€ target  
- Product: [feature development goals]
- Partenaires: [relationship/expansion goals]

⚠️ BLOCKERS & ACTIONS:
- Critique: [immediate attention needed]
- Important: [this week action required]  
- Watch: [monitor closely]
```

Cette granularité opérationnelle transforme la vision stratégique en actions quotidiennes mesurables et permet un suivi précis de chaque étape du bootstrap vers le product-market fit.